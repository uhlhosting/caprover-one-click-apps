{"captainVersion":4,"services":{"$$cap_appname-db":{"image":"postgres:$$db_version","restart":"always","volumes":["$$cap_appname-db-data:/var/lib/postgresql/data"],"environment":{"POSTGRES_DB":"$$db_name","POSTGRES_PASSWORD":"$$db_pass","POSTGRES_USER":"$$db_user"},"healthcheck":{"test":["CMD","pg_isready","-U","postgres"]},"caproverExtra":{"notExposeAsWebApp":"true"}},"$$cap_appname":{"image":"quay.io/invidious/invidious:$$cap_version","restart":"always","volumes":["$$cap_appname-data:/config"],"environment":{"INVIDIOUS_CONFIG":"channel_threads: 1\ncheck_tables: true\nfeed_threads: 1\ndb:\n  user: $$db_user\n  password: $$db_pass\n  host: srv-captain--$$cap_appname-db\n  port: 5432\n  dbname: $$db_name\nfull_refresh: false\nhttps_only: false\ndomain: $$cap_appname.$$cap_root_domain\nhmac_key: $$hmac_key\n"},"caproverExtra":{"containerHttpPort":"3000"}}},"caproverOneClickApp":{"variables":[{"id":"$$cap_version","label":"Invidious Version","defaultValue":"2024.04.10-b673695","description":"Check out their Quay.io page for the valid tags https://quay.io/repository/invidious/invidious?tab=tags."},{"id":"$$db_version","label":"Postgres Version","defaultValue":"14","description":"Check out their Docker page for the valid tags https://hub.docker.com/_/postgres?tab=tags. Default value was taken from https://github.com/iv-org/invidious/blob/master/config/config.example.yml.","validRegex":"/^([^\\s^\\/])+$/"},{"id":"$$db_name","label":"Database Name","defaultValue":"invidious","description":"Name of Postgres database to use. Default value was taken from https://github.com/iv-org/invidious/blob/master/config/config.example.yml.","validRegex":"/^([^\\s^\\/])+$/"},{"id":"$$db_user","label":"Database Username","defaultValue":"kemal","description":"Username for Postgres database. Default value was taken from https://github.com/iv-org/invidious/blob/master/config/config.example.yml.","validRegex":"/^([^\\s^\\/])+$/"},{"id":"$$db_pass","label":"Database Password","defaultValue":"$$cap_gen_random_hex(20)","description":"Password for Postgres database. Default value is randomly generated.","validRegex":"/^([^\\s^\\/])+$/"},{"id":"$$hmac_key","label":"HMAC Key","defaultValue":"$$cap_gen_random_hex(20)","description":"Required HMAC_KEY. Default value is randomly generated per official documentation.","validRegex":"/^([^\\s^\\/])+$/"}],"instructions":{"start":"Invidious is an alternative front-end to YouTube.\n\n**NOTE**: Running Invidious requires at least 20GB disk space, 512MB of free RAM (so ~2G installed on the system), as long as it is restarted regularly, as recommended in the post-install configuration (https://docs.invidious.io/installation/#post-install-configuration).\n\nMore details: https://github.com/iv-org/invidious","end":"Invidious has been successfully deployed!\n\nIt may take a couple of minutes until the web frontend can be reached at http://$$cap_appname.$$cap_root_domain.\n\n---\nðŸ”° Please see https://docs.invidious.io/installation/#post-install-configuration for additional steps."},"displayName":"Invidious","isOfficial":true,"description":"Invidious is an alternative front-end to YouTube.","documentation":"See https://github.com/iv-org/invidious"}}
