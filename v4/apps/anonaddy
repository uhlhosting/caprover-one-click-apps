{"captainVersion":4,"services":{"$$cap_appname-db":{"image":"mariadb:10.5","command":["mysqld","--character-set-server=utf8mb4","--collation-server=utf8mb4_unicode_ci"],"volumes":["$$cap_appname-db-data:/var/lib/mysql"],"environment":{"MYSQL_ALLOW_EMPTY_PASSWORD":"yes","MYSQL_DATABASE":"$$cap_mysql_database","MYSQL_USER":"$$cap_mysql_user","MYSQL_PASSWORD":"$$cap_mysql_password"},"restart":"always"},"$$cap_appname-redis":{"image":"redis:4.0-alpine","restart":"always"},"$$cap_appname":{"image":"anonaddy/anonaddy:latest","depends_on":["$$cap_appname-db","$$cap_appname-redis"],"ports":["25:25","8000:8000"],"volumes":["$$cap_appname-data:/data"],"environment":{"DB_HOST":"srv-captain--$$cap_appname-db","DB_DATABASE":"$$cap_mysql_database","DB_USERNAME":"$$cap_mysql_user","DB_PASSWORD":"$$cap_mysql_password","REDIS_HOST":"srv-captain--$$cap_appname-redis"},"restart":"always","caproverExtra":{"containerHttpPort":"8000","dockerfileLines":["FROM anonaddy/anonaddy:latest","ENTRYPOINT [\"sh\"]","CMD [\"-c\", \"mkdir -p data1/repositories; mkdir -p data2/tasks; mkdir -p setup_state; if [ -f /srv/scanmycode/setup_state/setup_done ]; then curl --silent --output /dev/null https://dl.betterscan.io/run-dockerhub.html; python3.8 /srv/scanmycode/manage.py runserver; else python3.8 /srv/scanmycode/manage.py setup  && touch /srv/scanmycode/setup_state/setup_done; curl --silent --output /dev/null https://dl.betterscan.io/installation-dockerhub.html; fi\"]"]}}},"caproverOneClickApp":{"variables":[{"id":"$$cap_mysql_database","label":"🗃️ MySQL Database","defaultValue":"addy_db"},{"id":"$$cap_mysql_user","label":"👤 MySQL User","defaultValue":"addy_user"},{"id":"$$cap_mysql_password","label":"🔒 MySQL Password","defaultValue":"$$cap_gen_random_hex(16)"},{"id":"$$cap_appname-data","label":"📂 App Data Volume","defaultValue":"data"},{"id":"$$cap_appname-db-data","label":"💾 Database Data Volume","defaultValue":"db-data"}],"instructions":{"start":"🚀 Addy is a tool for [describe functionality].","end":"✅ Addy has been successfully deployed and can be accessed at `http://$$cap_appname.$$cap_root_domain`."},"displayName":"Addy","description":"📌 A brief description of Addy and its functionalities.","documentation":"📖 Link to Addy documentation."}}
