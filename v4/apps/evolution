{"captainVersion":4,"services":{"$$cap_appname":{"image":"evolution/api:$$cap_evolution_version","volumes":["$$cap_appname-instances:/evolution/instances","$$cap_appname-store:/evolution/store"],"command":["node","./dist/src/main.js"],"caproverExtra":{"containerHttpPort":"8080"},"environment":{"SERVER_URL":"$$cap_SERVER_URL","CORS_ORIGIN":"$$cap_CORS_ORIGIN","CORS_METHODS":"$$cap_CORS_METHODS","CORS_CREDENTIALS":"$$cap_CORS_CREDENTIALS","LOG_LEVEL":"$$cap_LOG_LEVEL","LOG_BAILEYS":"$$cap_LOG_BAILEYS","DEL_INSTANCE":"$$cap_DEL_INSTANCE","STORE_MESSAGES":"$$cap_STORE_MESSAGES","STORE_MESSAGE_UP":"$$cap_STORE_MESSAGE_UP","STORE_CONTACTS":"$$cap_STORE_CONTACTS","STORE_CHATS":"$$cap_STORE_CHATS","CLEAN_STORE_CLEANING_INTERVAL":"$$cap_CLEAN_STORE_CLEANING_INTERVAL","CLEAN_STORE_MESSAGES":"$$cap_CLEAN_STORE_MESSAGES","CLEAN_STORE_MESSAGE_UP":"$$cap_CLEAN_STORE_MESSAGE_UP","CLEAN_STORE_CONTACTS":"$$cap_CLEAN_STORE_CONTACTS","CLEAN_STORE_CHATS":"$$cap_CLEAN_STORE_CHATS","DATABASE_ENABLED":"$$cap_DATABASE_ENABLED","DATABASE_CONNECTION_URI":"$$cap_DATABASE_CONNECTION_URI","DATABASE_CONNECTION_DB_PREFIX_NAME":"$$cap_DATABASE_CONNECTION_DB_PREFIX_NAME","DATABASE_SAVE_DATA_INSTANCE":"$$cap_DATABASE_SAVE_DATA_INSTANCE","DATABASE_SAVE_DATA_NEW_MESSAGE":"$$cap_DATABASE_SAVE_DATA_NEW_MESSAGE","DATABASE_SAVE_MESSAGE_UPDATE":"$$cap_DATABASE_SAVE_MESSAGE_UPDATE","DATABASE_SAVE_DATA_CONTACTS":"$$cap_DATABASE_SAVE_DATA_CONTACTS","DATABASE_SAVE_DATA_CHATS":"$$cap_DATABASE_SAVE_DATA_CHATS","REDIS_ENABLED":"$$cap_REDIS_ENABLED","REDIS_URI":"$$cap_REDIS_URI","REDIS_PREFIX_KEY":"$$cap_REDIS_PREFIX_KEY","RABBITMQ_ENABLED":"$$cap_RABBITMQ_ENABLED","RABBITMQ_URI":"$$cap_RABBITMQ_URI","WEBSOCKET_ENABLED":"$$cap_WEBSOCKET_ENABLED","WEBHOOK_GLOBAL_URL":"$$cap_WEBHOOK_GLOBAL_URL","WEBHOOK_GLOBAL_ENABLED":"$$cap_WEBHOOK_GLOBAL_ENABLED","WEBHOOK_GLOBAL_WEBHOOK_BY_EVENTS":"$$cap_WEBHOOK_GLOBAL_WEBHOOK_BY_EVENTS","WEBHOOK_EVENTS_APPLICATION_STARTUP":"$$cap_WEBHOOK_EVENTS_APPLICATION_STARTUP","WEBHOOK_EVENTS_QRCODE_UPDATED":"$$cap_WEBHOOK_EVENTS_QRCODE_UPDATED","WEBHOOK_EVENTS_MESSAGES_SET":"$$cap_WEBHOOK_EVENTS_MESSAGES_SET","WEBHOOK_EVENTS_MESSAGES_UPSERT":"$$cap_WEBHOOK_EVENTS_MESSAGES_UPSERT","WEBHOOK_EVENTS_MESSAGES_UPDATE":"$$cap_WEBHOOK_EVENTS_MESSAGES_UPDATE","WEBHOOK_EVENTS_MESSAGES_DELETE":"$$cap_WEBHOOK_EVENTS_MESSAGES_DELETE","WEBHOOK_EVENTS_SEND_MESSAGE":"$$cap_WEBHOOK_EVENTS_SEND_MESSAGE","WEBHOOK_EVENTS_CONTACTS_SET":"$$cap_WEBHOOK_EVENTS_CONTACTS_SET","WEBHOOK_EVENTS_CONTACTS_UPSERT":"$$cap_WEBHOOK_EVENTS_CONTACTS_UPSERT","WEBHOOK_EVENTS_CONTACTS_UPDATE":"$$cap_WEBHOOK_EVENTS_CONTACTS_UPDATE","WEBHOOK_EVENTS_PRESENCE_UPDATE":"$$cap_WEBHOOK_EVENTS_PRESENCE_UPDATE","WEBHOOK_EVENTS_CHATS_SET":"$$cap_WEBHOOK_EVENTS_CHATS_SET","WEBHOOK_EVENTS_CHATS_UPSERT":"$$cap_WEBHOOK_EVENTS_CHATS_UPSERT","WEBHOOK_EVENTS_CHATS_UPDATE":"$$cap_WEBHOOK_EVENTS_CHATS_UPDATE","WEBHOOK_EVENTS_CHATS_DELETE":"$$cap_WEBHOOK_EVENTS_CHATS_DELETE","WEBHOOK_EVENTS_GROUPS_UPSERT":"$$cap_WEBHOOK_EVENTS_GROUPS_UPSERT","WEBHOOK_EVENTS_GROUPS_UPDATE":"$$cap_WEBHOOK_EVENTS_GROUPS_UPDATE","WEBHOOK_EVENTS_GROUP_PARTICIPANTS_UPDATE":"$$cap_WEBHOOK_EVENTS_GROUP_PARTICIPANTS_UPDATE","WEBHOOK_EVENTS_CONNECTION_UPDATE":"$$cap_WEBHOOK_EVENTS_CONNECTION_UPDATE","WEBHOOK_EVENTS_CALL":"$$cap_WEBHOOK_EVENTS_CALL","WEBHOOK_EVENTS_NEW_JWT_TOKEN":"$$cap_WEBHOOK_EVENTS_NEW_JWT_TOKEN","CONFIG_SESSION_PHONE_CLIENT":"$$cap_CONFIG_SESSION_PHONE_CLIENT","CONFIG_SESSION_PHONE_NAME":"$$cap_CONFIG_SESSION_PHONE_NAME","QRCODE_LIMIT":"$$cap_QRCODE_LIMIT","QRCODE_COLOR":"$$cap_QRCODE_COLOR","AUTHENTICATION_TYPE":"$$cap_AUTHENTICATION_TYPE","AUTHENTICATION_API_KEY":"$$cap_AUTHENTICATION_API_KEY","AUTHENTICATION_EXPOSE_IN_FETCH_INSTANCES":"$$cap_AUTHENTICATION_EXPOSE_IN_FETCH_INSTANCES","AUTHENTICATION_JWT_EXPIRIN_IN":"$$cap_AUTHENTICATION_JWT_EXPIRIN_IN","AUTHENTICATION_JWT_SECRET":"$$cap_AUTHENTICATION_JWT_SECRET","depends_on":["$$cap_appname-redis","$$cap_appname-rabbitmq","$$cap_appname-mongodb","$$cap_appname-mongo-express"]}},"$$cap_appname-redis":{"image":"redis:$$cap_REDIS_VERSION","command":"redis-server --appendonly yes","healthcheck":{"test":["CMD","redis-cli","ping"],"retries":3,"timeout":"5s"},"caproverExtra":{"notExposeAsWebApp":true},"volumes":["$$cap_appname-redis:/data"]},"$$cap_appname-rabbitmq":{"image":"rabbitmq:$$cap_RABBITMQ_VERSION","healthcheck":{"test":["CMD","rabbitmqctl","status"],"retries":3,"timeout":"5s"},"caproverExtra":{"notExposeAsWebApp":true}},"$$cap_appname-mongodb":{"image":"mongo:$$cap_MONGO_VERSION","environment":{"MONGO_INITDB_ROOT_USERNAME":"root","MONGO_INITDB_ROOT_PASSWORD":"root","PUID":1000,"PGID":1000},"caproverExtra":{"containerHttpPort":27017,"notExposeAsWebApp":false},"volumes":["$$cap_appname-mongodb-data:/data/db","$$cap_appname-mongodb-configdb:/data/configdb"]},"$$cap_appname-mongo-express":{"image":"mongo-express:$$cap_MONGO_EXPRESS_VERSION","environment":{"ME_CONFIG_BASICAUTH_USERNAME":"root","ME_CONFIG_BASICAUTH_PASSWORD":"root","ME_CONFIG_MONGODB_SERVER":"srv-captain--$$cap_appname-mongodb","ME_CONFIG_MONGODB_ADMINUSERNAME":"root","ME_CONFIG_MONGODB_ADMINPASSWORD":"root"},"caproverExtra":{"containerHttpPort":8081}}},"caproverOneClickApp":{"displayName":"Evolution API","isOfficial":true,"description":"Evolution API Service","documentation":"https://doc.evolution-api.com/help-center/articles/1/7/66/docker-installation","instructions":{"start":"Initial setup instructions for Evolution API.","end":"Evolution API is now set up. Your service is available at http://$$cap_appname.$$cap_root_domain ."},"variables":[{"id":"$$cap_evolution_version","label":"Evolution API Version","description":"Check out their Docker page for the valid tags https://hub.docker.com/r/evolution-api/api/tags","validRegex":"/^\\d+\\.\\d+\\.\\d+$/","defaultValue":"local"},{"id":"$$cap_SERVER_URL","label":"Server URL","description":"The URL of your Evolution API server.","validRegex":"/.+/","defaultValue":"http://localhost:3000"},{"id":"$$cap_CORS_ORIGIN","label":"CORS Origin","description":"The origin of your Evolution API server.","validRegex":"/.+/","defaultValue":"*"},{"id":"$$cap_LOG_LEVEL","label":"Log Level","description":"The log level of your Evolution API server.","validRegex":"/.+/","defaultValue":"ERROR,WARN,DEBUG,INFO"},{"id":"$$cap_DEL_INSTANCE","label":"Delete Instance After Disconnection","description":"Delete the instance after disconnection.","validRegex":"/^true|false$/","defaultValue":"false"},{"id":"$$cap_CLEAN_STORE_CLEANING_INTERVAL","label":"Clean Store Cleaning Interval (Seconds)","description":"The interval in seconds to clean the store.","validRegex":"/^\\d+$/","defaultValue":"7200"},{"id":"$$cap_DATABASE_CONNECTION_URI","label":"MongoDB Connection URI","description":"The MongoDB connection URI.","validRegex":"/.+/","defaultValue":"mongodb://srv-captain--$$cap_appname-mongo/?authSource=admin&readPreference=primary&ssl=false&directConnection=true"},{"id":"$$cap_DATABASE_CONNECTION_DB_PREFIX_NAME","label":"MongoDB Connection DB Prefix Name","defaultValue":"evdocker"},{"id":"$$cap_WEBSOCKET_ENABLED","label":"Enable Websocket","description":"This is the type of authentication that will be used to access your application.","validRegex":"/.{1,255}$/","defaultValue":"false"},{"id":"$$cap_WEBHOOK_EVENTS_APPLICATION_STARTUP","label":"Enable Webhook Event for Application Startup","description":"This is the type of authentication that will be used to access your application.","validRegex":"/.{1,255}$/","defaultValue":"false"},{"id":"$$cap_AUTHENTICATION_TYPE","label":"Authentication Type","description":"This is the type of authentication that will be used to access your application.","validRegex":"/.{1,255}$/","defaultValue":"apikey"},{"id":"$$cap_AUTHENTICATION_API_KEY","label":"Authentication API Key","description":"This is the API key that will be used to access your application.","validRegex":"/.{1,255}$/","defaultValue":"GLOBAL-API-KEY"},{"id":"$$cap_evolution_version","label":"Evolution API Version","description":"This is the version of the evolution API that will be used to access your application.","validRegex":"/^\\d+\\.\\d+$/","defaultValue":"local"},{"id":"$$cap_SERVER_URL","label":"Server URL","description":"This is the URL that will be used to access your application.","defaultValue":"API-DOMAIN"},{"id":"$$cap_REDIS_ENABLED","label":"Enable Redis","description":"Enable Redis to cache data.","validRegex":"/^(true|false)$/","defaultValue":"false"},{"id":"$$cap_REDIS_VERSION","label":"Cache | Version","description":"Redis version. Check out their valid tags at https://hub.docker.com/_/redis/tags","defaultValue":"7.2.0-alpine","validRegex":"/.{1,}/"},{"id":"$$cap_RABBITMQ_ENABLED","label":"Enable RabbitMQ","description":"If you have a RabbitMQ instance running, you can enable it https://hub.docker.com/_/redis/tags","validRegex":"/.{1,}/","defaultValue":"false"},{"id":"$$cap_RABBITMQ_VERSION","label":"RabbitMQ Version","description":"RabbitMQ version. Check out their valid tags at https://hub.docker.com/_/redis/tags","defaultValue":"3.8-management-alpine","validRegex":"/.{1,}/"},{"id":"$$cap_DATABASE_ENABLED","label":"Enable MongoDB","description":"If you have a MongoDB instance running, you can enable it https://hub.docker.com/_/redis/tags","validRegex":"/.{1,}/","defaultValue":"false"},{"id":"$$cap_MONGO_VERSION","label":"MongoDB Version","defaultValue":4,"description":"Checkout their docker page for the valid tags https://hub.docker.com/r/library/mongo/tags/","validRegex":"/^(\\d+\\.)?(\\d+\\.)?(\\*|\\d+)$"}]}}
